#!/bin/bash
# ==============================================================================
# Name..........: ki7mt-ai-lab-core - Environment Interface
# Version.......: 1.0.0
# Purpose.......: Standardized Environment Variables for the AI Lab
# Usage.........: source /usr/bin/ki7mt-lab-env
# ==============================================================================

prefix=/usr/local
datarootdir=${prefix}/share
datadir=${datarootdir}

# 1. ClickHouse Connection Details
export CLICKHOUSE_HOST="${CLICKHOUSE_HOST:-localhost}"
export CLICKHOUSE_PORT="${CLICKHOUSE_PORT:-9000}"
export CLICKHOUSE_USER="${CLICKHOUSE_USER:-default}"
export CLICKHOUSE_DB="wspr"

# 2. Lab Storage Locations (Configured via ./configure)
# These values are baked in at build time from your EPYC server's config.
export WSPR_DATA_DIR="/opt/wspr-mcp/data"
export SOLAR_DATA_DIR="/opt/solar-mcp/data"
export CLICKHOUSE_DATA_DIR="/var/lib/clickhouse"

# 3. App-Specific Pathing
export DDL_PATH="/usr/share/ki7mt-ai-lab-core/ddl"
export LAB_LOG_DIR="/var/log/ki7mt-ai-lab-core"

# 4. Binary Discovery
export CH_CLIENT_BIN="/usr/bin/clickhouse-client"

if [[ $- == *i* ]]; then
    echo "KI7MT AI Lab Environment (1.0.0) Loaded."
    echo "WSPR Path: $WSPR_DATA_DIR"
fi
