#!/bin/bash
# ==============================================================================
# Name..........: @PROGRAM@ - Environment Interface
# Version.......: @VERSION@
# Purpose.......: Standardized Environment Variables for the AI Lab
# Usage.........: source /usr/bin/ki7mt-lab-env
# ==============================================================================

prefix=@prefix@
datarootdir=@datarootdir@
datadir=@datadir@

# 1. ClickHouse Connection Details
export CLICKHOUSE_HOST="${CLICKHOUSE_HOST:-localhost}"
export CLICKHOUSE_PORT="${CLICKHOUSE_PORT:-9000}"
export CLICKHOUSE_USER="${CLICKHOUSE_USER:-default}"
export CLICKHOUSE_DB="wspr"

# 2. Lab Storage Locations (Configured via ./configure)
# These values are baked in at build time from your EPYC server's config.
export WSPR_DATA_DIR="@WSPR_DATA_DIR@"
export SOLAR_DATA_DIR="@SOLAR_DATA_DIR@"
export CLICKHOUSE_DATA_DIR="/var/lib/clickhouse"

# 3. App-Specific Pathing
export DDL_PATH="/usr/share/@PROGRAM@/ddl"
export LAB_LOG_DIR="/var/log/@PROGRAM@"

# 4. Binary Discovery
export CH_CLIENT_BIN="@CLICKHOUSE@"

if [[ $- == *i* ]]; then
    echo "KI7MT AI Lab Environment (@VERSION@) Loaded."
    echo "WSPR Path: $WSPR_DATA_DIR"
fi